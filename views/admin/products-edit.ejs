<!DOCTYPE html>
<html lang="en">
<!--
  Name: Carlos Villarreal
  Date: 10.12.2024
  CSC 372-01

  This is my admin-products edit page. It lets the admin modify the details of a product, except for the product ID and the image path.
-->

<head>
    <meta charset="utf-8">
    <title>PlayStation Nation - Edit Product</title>
    <link rel="stylesheet" href="/styles/admin.css">
    <script src="/js/products-edit.js" defer></script>
</head>

<body>
    <header>
        <%- include('../partials/_navbar') %>
        <h1><u>PlayStation Nation</u></h1>
        <h3>Your journey to greatness starts here.</h3>
    </header>

    <main class="form-main-content">
        <h2 class="page-title"><u>Edit Product Details</u></h2>

        <form class="admin-edit-form" action="/api/products/<%= product.Id %>?_method=PUT" method="POST">
            <!-- Product ID (Cannot be edited) -->
            <label for="product-id" class="form-label">Product ID:</label>
            <input type="text" id="product-id" class="form-input" name="product-id" value="<%= product.Id %>" readonly><br><br>

            <!-- Name -->
            <label for="name" class="form-label">Name:</label>
            <input type="text" id="name" class="form-input" name="name" value="<%= product.Name %>"><br><br>

            <!-- Description -->
            <label for="description" class="form-label">Description:</label>
            <textarea id="description" class="form-textarea" name="description" rows="3" cols="50"><%= product.Description %></textarea><br><br>

            <!-- Category -->
            <label for="category-id" class="form-label">Category:</label>
            <select id="category-id" class="form-select" name="category-id" required>
                <option value="1" <%= product.Category_Id == 1 ? 'selected' : '' %>>Consoles</option>
                <option value="2" <%= product.Category_Id == 2 ? 'selected' : '' %>>Games</option>
                <option value="3" <%= product.Category_Id == 3 ? 'selected' : '' %>>Accessories</option>
                <option value="4" <%= product.Category_Id == 4 ? 'selected' : '' %>>Decor</option>
            </select><br><br>

            <!-- Price -->
            <label for="price" class="form-label">Price:</label>
            <input type="number" id="price" class="form-input" name="price" value="<%= product.Price %>" step="0.01"><br><br>

            <!-- Stock -->
            <label for="stock" class="form-label">Stock:</label>
            <input type="number" id="stock" class="form-input" name="stock" value="<%= product.Stock %>"><br><br>

            <!-- Image (Cannot be edited) -->
            <label for="image" class="form-label">Image:</label>
            <input type="text" id="image" class="form-input" name="image" value="<%= product.Image_Url %>" readonly><br><br>

            <!-- Submit button to save changes -->
            <button type="submit" class="submit-button">Save Changes</button>
        </form>
    </main>

    <footer class="pre-format">
        Copyright Â© 2024 PlayStation Nation
        PlayStation Nation Productions
        All rights reserved
    </footer>
</body>

</html>